<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SHM: 🚀 クイックスタートガイド</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SHM
   </div>
   <div id="projectbrief">共有メモリを用いた高速で扱いやすいプロセス間通信マネージャ</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">🚀 クイックスタートガイド </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>[<a href="../md_manual_quickstart_en.html">English</a> | 日本語]</p>
<p>このガイドでは、5分でプロセス間通信を体験できるように簡単な例を紹介します。</p>
<h1><a class="anchor" id="autotoc_md52"></a>
📋 前提条件</h1>
<ul>
<li>Ubuntu 18.04以降 または 互換Linux環境</li>
<li>C++17対応コンパイラ（g++ 7.0以降）</li>
<li>CMake 3.10以降</li>
</ul>
<h1><a class="anchor" id="autotoc_md53"></a>
⚡ 最速体験：共有メモリ通信</h1>
<h2><a class="anchor" id="autotoc_md54"></a>
1. 環境構築（30秒）</h2>
<div class="fragment"><div class="line"># プロジェクトディレクトリに移動</div>
<div class="line">cd /path/to/shared-memory-based-handy-communication-manager</div>
<div class="line"> </div>
<div class="line"># ビルド</div>
<div class="line">mkdir build &amp;&amp; cd build</div>
<div class="line">cmake ..</div>
<div class="line">make</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md55"></a>
2. 送信プログラムの作成（1分）</h2>
<p><code>sender.cpp</code>を作成：</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="shm__pub__sub_8hpp.html">shm_pub_sub.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;thread&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;chrono&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span>irlab::shm;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <span class="comment">// &quot;hello_topic&quot;という名前でint型のPublisherを作成</span></div>
<div class="line">    Publisher&lt;int&gt; pub(<span class="stringliteral">&quot;hello_topic&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;データを送信中...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 10; ++i) {</div>
<div class="line">        pub.publish(i);</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;送信: &quot;</span> &lt;&lt; i &lt;&lt; std::endl;</div>
<div class="line">        std::this_thread::sleep_for(std::chrono::seconds(1));</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="ashm__pub__sub_8hpp_html"><div class="ttname"><a href="shm__pub__sub_8hpp.html">shm_pub_sub.hpp</a></div><div class="ttdoc">出版/購読モデルによるトピック通信を規定するクラスの定義</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md56"></a>
3. 受信プログラムの作成（1分）</h2>
<p><code>receiver.cpp</code>を作成：</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="shm__pub__sub_8hpp.html">shm_pub_sub.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;thread&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;chrono&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span>irlab::shm;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <span class="comment">// &quot;hello_topic&quot;という名前でint型のSubscriberを作成</span></div>
<div class="line">    Subscriber&lt;int&gt; sub(<span class="stringliteral">&quot;hello_topic&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;データを待機中...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line">        <span class="keywordtype">bool</span> state;</div>
<div class="line">        <span class="keywordtype">int</span> data = sub.subscribe(&amp;state);</div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">if</span> (state) {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;受信: &quot;</span> &lt;&lt; data &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">        std::this_thread::sleep_for(std::chrono::milliseconds(100));</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md57"></a>
4. コンパイル・実行（1分）</h2>
<div class="fragment"><div class="line"># コンパイル</div>
<div class="line">g++ -std=c++17 -I../include sender.cpp -L. -lshm_pub_sub -o sender</div>
<div class="line">g++ -std=c++17 -I../include receiver.cpp -L. -lshm_pub_sub -o receiver</div>
<div class="line"> </div>
<div class="line"># 実行（2つのターミナルで）</div>
<div class="line"># ターミナル1</div>
<div class="line">./receiver</div>
<div class="line"> </div>
<div class="line"># ターミナル2</div>
<div class="line">./sender</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md58"></a>
🎉 結果</h2>
<p>受信側で送信されたデータがリアルタイムに表示されます！</p>
<div class="fragment"><div class="line">データを待機中...</div>
<div class="line">受信: 0</div>
<div class="line">受信: 1</div>
<div class="line">受信: 2</div>
<div class="line">...</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md59"></a>
🤝 Service通信の体験</h1>
<p>次は、確実な要求応答通信を体験してみましょう：</p>
<h2><a class="anchor" id="autotoc_md60"></a>
サーバープログラム（Service版）</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="shm__service_8hpp.html">shm_service.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;thread&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;chrono&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span>irlab::shm;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <span class="comment">// intを受け取ってintを返すServiceサーバー</span></div>
<div class="line">    ServiceServer&lt;int, int&gt; server(<span class="stringliteral">&quot;calc_service&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;計算サービスを開始...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line">        <span class="keywordflow">if</span> (server.hasRequest()) {</div>
<div class="line">            <span class="keywordtype">int</span> request = server.getRequest();</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;要求受信: &quot;</span> &lt;&lt; request &lt;&lt; std::endl;</div>
<div class="line">            </div>
<div class="line">            <span class="comment">// 2倍にして返す</span></div>
<div class="line">            <span class="keywordtype">int</span> response = request * 2;</div>
<div class="line">            server.sendResponse(response);</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;応答送信: &quot;</span> &lt;&lt; response &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">        std::this_thread::sleep_for(std::chrono::milliseconds(10));</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="ashm__service_8hpp_html"><div class="ttname"><a href="shm__service_8hpp.html">shm_service.hpp</a></div><div class="ttdoc">メモリの格納方法を規定するクラスの定義</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md61"></a>
クライアントプログラム（Service版）</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="shm__service_8hpp.html">shm_service.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;thread&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;chrono&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span>irlab::shm;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <span class="comment">// intを送ってintを受け取るServiceクライアント</span></div>
<div class="line">    ServiceClient&lt;int, int&gt; client(<span class="stringliteral">&quot;calc_service&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;計算サービスにアクセス中...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt;= 5; ++i) {</div>
<div class="line">        <span class="comment">// 要求送信</span></div>
<div class="line">        client.sendRequest(i);</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;要求送信: &quot;</span> &lt;&lt; i &lt;&lt; std::endl;</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// 応答待機（1秒タイムアウト）</span></div>
<div class="line">        <span class="keywordflow">if</span> (client.waitForResponse(1000000)) {  <span class="comment">// 1,000,000マイクロ秒 = 1秒</span></div>
<div class="line">            <span class="keywordtype">int</span> result = client.getResponse();</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;結果受信: &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; x 2 = &quot;</span> &lt;&lt; result &lt;&lt; std::endl;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;タイムアウト&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">        std::this_thread::sleep_for(std::chrono::seconds(1));</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md62"></a>
コンパイル・実行（Service版）</h2>
<div class="fragment"><div class="line"># コンパイル</div>
<div class="line">g++ -std=c++17 -I../include service_server.cpp -L. -lshm_service -o service_server</div>
<div class="line">g++ -std=c++17 -I../include service_client.cpp -L. -lshm_service -o service_client</div>
<div class="line"> </div>
<div class="line"># 実行（2つのターミナルで）</div>
<div class="line"># ターミナル1: サーバーを先に起動</div>
<div class="line">./service_server</div>
<div class="line"> </div>
<div class="line"># ターミナル2: クライアントを後から起動</div>
<div class="line">./service_client</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md63"></a>
🔍 違いを理解しよう</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">特徴   </th><th class="markdownTableHeadNone">Pub/Sub (shm_pub_sub)   </th><th class="markdownTableHeadNone">Service (shm_service)    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>通信パターン</b>   </td><td class="markdownTableBodyNone">📡 一対多ブロードキャスト   </td><td class="markdownTableBodyNone">🤝 一対一要求応答    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>速度</b>   </td><td class="markdownTableBodyNone">⚡ 超高速（~1μs）   </td><td class="markdownTableBodyNone">🚀 高速（~2-5μs）    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>信頼性</b>   </td><td class="markdownTableBodyNone">📦 ベストエフォート   </td><td class="markdownTableBodyNone">🔒 確実な送受信    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>用途</b>   </td><td class="markdownTableBodyNone">リアルタイムデータ配信   </td><td class="markdownTableBodyNone">設定値取得・計算結果    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>同期/非同期</b>   </td><td class="markdownTableBodyNone">非同期   </td><td class="markdownTableBodyNone">同期（ブロッキング）   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md64"></a>
🎯 次のステップ</h1>
<p>体験できましたか？次は以下を試してみましょう：</p>
<ol type="1">
<li><b><a class="el" href="md_manual_tutorials_jp.html">📝 基本チュートリアル</a></b> - より詳しい使い方を学ぶ</li>
<li><b><a class="el" href="md_manual_tutorials_shm_pub_sub_jp.html">📡 Pub/Sub通信</a></b> - 超高速ブロードキャストを極める</li>
<li><b><a class="el" href="md_manual_tutorials_shm_service_jp.html">🤝 Service通信</a></b> - 確実な要求応答をマスター</li>
<li><b><a class="el" href="md_manual_tutorials_shm_action_jp.html">⚡ Action通信</a></b> - 非同期処理をマスター</li>
<li><b><a class="el" href="md_manual_tutorials_python_jp.html">🐍 Python版</a></b> - Pythonでも使ってみる</li>
</ol>
<h1><a class="anchor" id="autotoc_md65"></a>
🐛 うまくいかない場合</h1>
<h2><a class="anchor" id="autotoc_md66"></a>
よくあるエラー</h2>
<p><b>コンパイルエラー</b>: ヘッダーファイルが見つからない </p><div class="fragment"><div class="line"># includeパスを確認</div>
<div class="line">ls ../include/</div>
<div class="line"># shm_pub_sub.hpp や udp_comm.hpp があることを確認</div>
</div><!-- fragment --><p><b>実行エラー</b>: ライブラリが見つからない </p><div class="fragment"><div class="line"># ライブラリファイルを確認</div>
<div class="line">ls *.so</div>
<div class="line"># libshm_pub_sub.so や libudp_comm.so があることを確認</div>
<div class="line"> </div>
<div class="line"># LD_LIBRARY_PATHを設定</div>
<div class="line">export LD_LIBRARY_PATH=.:$LD_LIBRARY_PATH</div>
</div><!-- fragment --><p><b>通信できない</b>:</p><ul>
<li>共有メモリ: 同じトピック名を使用しているか確認</li>
<li>Service: サーバーを先に起動してからクライアントを起動</li>
</ul>
<h2><a class="anchor" id="autotoc_md67"></a>
さらなるヘルプ</h2>
<ul>
<li><b><a class="el" href="md_manual_troubleshooting_jp.html">🐛 トラブルシューティング</a></b> - 詳細な解決方法</li>
<li><b>📚 サンプルコード集</b> - 動作確認済みの例</li>
</ul>
<hr  />
<p><b>準備完了！</b> さあ、本格的にプロセス間通信をマスターしましょう！ </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jul 6 2025 00:08:40 for SHM by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
