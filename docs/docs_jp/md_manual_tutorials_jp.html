<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SHM: ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«(C++)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SHM
   </div>
   <div id="projectbrief">å…±æœ‰ãƒ¡ãƒ¢ãƒªã‚’ç”¨ã„ãŸé«˜é€Ÿã§æ‰±ã„ã‚„ã™ã„ãƒ—ãƒ­ã‚»ã‚¹é–“é€šä¿¡ãƒãƒãƒ¼ã‚¸ãƒ£</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«(C++) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>[<a href="../md_manual_tutorials_en.html">English</a> | æ—¥æœ¬èª]</p>
<h1><a class="anchor" id="autotoc_md179"></a>
ğŸ¯ å­¦ç¿’ãƒ‘ã‚¹</h1>
<p>SHMãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ç¿’å¾—ã«ã¯ä»¥ä¸‹ã®é †åºãŒãŠã™ã™ã‚ã§ã™ï¼š</p>
<h2><a class="anchor" id="autotoc_md180"></a>
ğŸ“š åŸºç¤ç·¨</h2>
<ul>
<li><b><a href="md_manual_tutorials_introduction_jp.html">SHMã®å°å…¥</a></b> - ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ¦‚è¦ã¨åŸºæœ¬æ¦‚å¿µã‚’ç†è§£</li>
</ul>
<h2><a class="anchor" id="autotoc_md181"></a>
ğŸš€ å®Ÿè·µç·¨</h2>
<h3><a class="anchor" id="autotoc_md182"></a>
1. &lt;strong&gt;&lt;a href="md_manual_tutorials_shm_pub_sub_jp.html"&gt;ğŸ“¡ Pub/Subé€šä¿¡&lt;/a&gt;&lt;/strong&gt; - è¶…é«˜é€Ÿãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆé€šä¿¡</h3>
<ul>
<li><b>é›£æ˜“åº¦</b>: â­â­â˜†â˜†â˜† (åˆç´š)</li>
<li><b>ç”¨é€”</b>: ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿é…ä¿¡ã€çŠ¶æ…‹æ›´æ–°ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šä¿¡</li>
<li><b>ç‰¹å¾´</b>: 1å¯¾å¤šé€šä¿¡ã€é«˜é »åº¦é…ä¿¡(1kHz+)ã€ä½é…å»¶(Î¼sç´š) <div class="fragment"><div class="line">Publisher&lt;SensorData&gt; pub(<span class="stringliteral">&quot;sensors&quot;</span>);</div>
<div class="line">pub.publish(sensor_data);  <span class="comment">// ç¬æ™‚é…ä¿¡</span></div>
</div><!-- fragment --></li>
</ul>
<h3><a class="anchor" id="autotoc_md183"></a>
2. &lt;strong&gt;&lt;a href="md_manual_tutorials_shm_service_jp.html"&gt;ğŸ¤ Serviceé€šä¿¡&lt;/a&gt;&lt;/strong&gt; - ç¢ºå®Ÿãªè¦æ±‚å¿œç­”é€šä¿¡</h3>
<ul>
<li><b>é›£æ˜“åº¦</b>: â­â­â­â˜†â˜† (ä¸­ç´š)</li>
<li><b>ç”¨é€”</b>: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œã€è¨ˆç®—ã‚µãƒ¼ãƒ“ã‚¹ã€è¨­å®šå¤‰æ›´</li>
<li><b>ç‰¹å¾´</b>: 1å¯¾1é€šä¿¡ã€ç¢ºå®Ÿãªå¿œç­”ã€ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆç®¡ç† <div class="fragment"><div class="line">ServiceClient&lt;Request, Response&gt; client(<span class="stringliteral">&quot;database&quot;</span>);</div>
<div class="line">client.sendRequest(query);</div>
<div class="line">Response result = client.getResponse();  <span class="comment">// ç¢ºå®Ÿãªå¿œç­”</span></div>
</div><!-- fragment --></li>
</ul>
<h3><a class="anchor" id="autotoc_md184"></a>
3. &lt;strong&gt;&lt;a href="md_manual_tutorials_shm_action_jp.html"&gt;âš¡ Actioné€šä¿¡&lt;/a&gt;&lt;/strong&gt; - é•·æ™‚é–“éåŒæœŸå‡¦ç†</h3>
<ul>
<li><b>é›£æ˜“åº¦</b>: â­â­â­â­â˜† (ä¸Šç´š)</li>
<li><b>ç”¨é€”</b>: ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†ã€æ©Ÿæ¢°å­¦ç¿’ã€å¤§å®¹é‡ãƒ‡ãƒ¼ã‚¿å¤‰æ›</li>
<li><b>ç‰¹å¾´</b>: éåŒæœŸå®Ÿè¡Œã€é€²æ—ç›£è¦–ã€ã‚­ãƒ£ãƒ³ã‚»ãƒ«å¯èƒ½ <div class="fragment"><div class="line">ActionClient&lt;Goal, Result, Feedback&gt; client(<span class="stringliteral">&quot;processor&quot;</span>);</div>
<div class="line">uint64_t goal_id = client.sendGoal(large_task);</div>
<div class="line"><span class="comment">// é€²æ—ç›£è¦–ã—ãªãŒã‚‰ä»–ã®å‡¦ç†ç¶™ç¶š</span></div>
</div><!-- fragment --></li>
</ul>
<h2><a class="anchor" id="autotoc_md185"></a>
ğŸ è¨€èªé€£æºç·¨</h2>
<ul>
<li><b><a href="md_manual_tutorials_python_jp.html">Pythonçµ±åˆ</a></b> - Pythonã‹ã‚‰C++ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’æ´»ç”¨</li>
</ul>
<h1><a class="anchor" id="autotoc_md186"></a>
ğŸ“Š é€šä¿¡æ–¹å¼æ¯”è¼ƒè¡¨</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">æ–¹å¼   </th><th class="markdownTableHeadNone">ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·   </th><th class="markdownTableHeadNone">ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆ   </th><th class="markdownTableHeadNone">å¿œç­”ä¿è¨¼   </th><th class="markdownTableHeadNone">é€²æ—ç›£è¦–   </th><th class="markdownTableHeadNone">ç”¨é€”ä¾‹    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Pub/Sub</b>   </td><td class="markdownTableBodyNone">1-10Î¼s   </td><td class="markdownTableBodyNone">éå¸¸ã«é«˜ã„   </td><td class="markdownTableBodyNone">âŒ   </td><td class="markdownTableBodyNone">âŒ   </td><td class="markdownTableBodyNone">ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã€çŠ¶æ…‹æ›´æ–°    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Service</b>   </td><td class="markdownTableBodyNone">10-100Î¼s   </td><td class="markdownTableBodyNone">é«˜ã„   </td><td class="markdownTableBodyNone">âœ…   </td><td class="markdownTableBodyNone">âŒ   </td><td class="markdownTableBodyNone">ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã€è¨ˆç®—å‡¦ç†    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Action</b>   </td><td class="markdownTableBodyNone">100Î¼s-1ms   </td><td class="markdownTableBodyNone">ä¸­ç¨‹åº¦   </td><td class="markdownTableBodyNone">âœ…   </td><td class="markdownTableBodyNone">âœ…   </td><td class="markdownTableBodyNone">ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†ã€MLè¨“ç·´   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md187"></a>
ğŸ¨ ä½¿ç”¨ä¾‹ãƒãƒˆãƒªãƒƒã‚¯ã‚¹</h1>
<h2><a class="anchor" id="autotoc_md188"></a>
ğŸ”„ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç³» (&lt; 10ms)</h2>
<div class="fragment"><div class="line"><span class="comment">// é«˜é »åº¦ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ â†’ Pub/Sub</span></div>
<div class="line">Publisher&lt;IMUData&gt; imu_pub(<span class="stringliteral">&quot;imu&quot;</span>);</div>
<div class="line">imu_pub.publish(imu_data);  <span class="comment">// 1kHzé…ä¿¡</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// å³åº§ã®è¨ˆç®—è¦æ±‚ â†’ Service  </span></div>
<div class="line">ServiceClient&lt;Position, Force&gt; physics(<span class="stringliteral">&quot;physics_engine&quot;</span>);</div>
<div class="line">Force result = physics.call(current_position);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md189"></a>
ğŸ“ˆ ãƒãƒƒãƒå‡¦ç†ç³» (&gt; 1ç§’)</h2>
<div class="fragment"><div class="line"><span class="comment">// å¤§å®¹é‡ãƒ‡ãƒ¼ã‚¿å‡¦ç† â†’ Action</span></div>
<div class="line">ActionClient&lt;Dataset, Model, Progress&gt; ml(<span class="stringliteral">&quot;trainer&quot;</span>);</div>
<div class="line">uint64_t job = ml.sendGoal(training_data);</div>
<div class="line"><span class="keywordflow">while</span> (!ml.isComplete(job)) {</div>
<div class="line">    Progress progress = ml.getFeedback(job);</div>
<div class="line">    updateProgressBar(progress.percent);</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md190"></a>
ğŸŒ æ··åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£</h2>
<div class="fragment"><div class="line"><span class="comment">// è¤‡æ•°é€šä¿¡æ–¹å¼ã®çµ„ã¿åˆã‚ã›</span></div>
<div class="line"><span class="keyword">class </span>RobotController {</div>
<div class="line">    Publisher&lt;RobotState&gt; state_pub_;      <span class="comment">// çŠ¶æ…‹ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆ</span></div>
<div class="line">    ServiceClient&lt;Motion, Result&gt; motion_; <span class="comment">// å‹•ä½œæŒ‡ä»¤</span></div>
<div class="line">    ActionClient&lt;Task, Result, Progress&gt; task_; <span class="comment">// é•·æ™‚é–“ã‚¿ã‚¹ã‚¯</span></div>
<div class="line">    </div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keywordtype">void</span> operateRobot() {</div>
<div class="line">        <span class="comment">// 1. çŠ¶æ…‹ã‚’å®šæœŸé…ä¿¡</span></div>
<div class="line">        state_pub_.publish(getCurrentState());</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// 2. å³åº§ã®å‹•ä½œæŒ‡ä»¤</span></div>
<div class="line">        motion_.call(move_command);</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// 3. é•·æ™‚é–“ã‚¿ã‚¹ã‚¯ã‚’ä¸¦è¡Œå®Ÿè¡Œ</span></div>
<div class="line">        <span class="keywordflow">if</span> (!task_.isActive()) {</div>
<div class="line">            task_.sendGoal(navigation_task);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">};</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md191"></a>
ğŸ¯ ãƒ¬ãƒ™ãƒ«åˆ¥å­¦ç¿’ç›®æ¨™</h1>
<h2><a class="anchor" id="autotoc_md192"></a>
ğŸ¥‰ ãƒ–ãƒ­ãƒ³ã‚ºãƒ¬ãƒ™ãƒ«</h2>
<ul>
<li>[ ] Pub/Subé€šä¿¡ã§åŸºæœ¬çš„ãªãƒ‡ãƒ¼ã‚¿é…ä¿¡ãŒã§ãã‚‹</li>
<li>[ ] Serviceé€šä¿¡ã§ç°¡å˜ãªè¦æ±‚å¿œç­”å‡¦ç†ãŒã§ãã‚‹</li>
<li>[ ] åŸºæœ¬çš„ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’å®Ÿè£…ã§ãã‚‹</li>
</ul>
<h2><a class="anchor" id="autotoc_md193"></a>
ğŸ¥ˆ ã‚·ãƒ«ãƒãƒ¼ãƒ¬ãƒ™ãƒ«</h2>
<ul>
<li>[ ] é«˜é »åº¦é€šä¿¡(1kHz+)ã‚’å®‰å®šã—ã¦å®Ÿç¾ã§ãã‚‹</li>
<li>[ ] è¤‡æ•°ã®é€šä¿¡æ–¹å¼ã‚’é©åˆ‡ã«ä½¿ã„åˆ†ã‘ã‚‰ã‚Œã‚‹</li>
<li>[ ] ä¸¦åˆ—å‡¦ç†ã¨ã‚¹ãƒ¬ãƒƒãƒ‰ã‚»ãƒ¼ãƒ•ãƒ†ã‚£ã‚’è€ƒæ…®ã§ãã‚‹</li>
</ul>
<h2><a class="anchor" id="autotoc_md194"></a>
ğŸ¥‡ ã‚´ãƒ¼ãƒ«ãƒ‰ãƒ¬ãƒ™ãƒ«</h2>
<ul>
<li>[ ] Actioné€šä¿¡ã§è¤‡é›‘ãªéåŒæœŸå‡¦ç†ã‚’å®Ÿè£…ã§ãã‚‹</li>
<li>[ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã¨ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ãŒã§ãã‚‹</li>
<li>[ ] å¤§è¦æ¨¡ã‚·ã‚¹ãƒ†ãƒ ã§ã®é‹ç”¨è¨­è¨ˆãŒã§ãã‚‹</li>
</ul>
<h1><a class="anchor" id="autotoc_md195"></a>
ğŸ› ï¸ é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—</h1>
<h2><a class="anchor" id="autotoc_md196"></a>
å¿…è¦ãªçŸ¥è­˜</h2>
<ul>
<li><b>C++14ä»¥ä¸Š</b>: STLã€ã‚¹ãƒãƒ¼ãƒˆãƒã‚¤ãƒ³ã‚¿ã€ãƒ©ãƒ ãƒ€å¼</li>
<li><b>CMake</b>: ãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã®åŸºæœ¬æ“ä½œ</li>
<li><b>LinuxåŸºç¤</b>: ãƒ—ãƒ­ã‚»ã‚¹ã€ãƒ¡ãƒ¢ãƒªã€æ¨©é™ã®æ¦‚å¿µ</li>
</ul>
<h2><a class="anchor" id="autotoc_md197"></a>
æ¨å¥¨ãƒ„ãƒ¼ãƒ«</h2>
<div class="fragment"><div class="line"># ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©</div>
<div class="line">sudo apt install build-essential cmake</div>
<div class="line"> </div>
<div class="line"># ãƒ‡ãƒãƒƒã‚°ãƒ„ãƒ¼ãƒ«  </div>
<div class="line">sudo apt install gdb valgrind</div>
<div class="line"> </div>
<div class="line"># ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°</div>
<div class="line">sudo apt install linux-tools-generic</div>
<div class="line"> </div>
<div class="line"># å…±æœ‰ãƒ¡ãƒ¢ãƒªç›£è¦–</div>
<div class="line">ipcs -m  # å…±æœ‰ãƒ¡ãƒ¢ãƒªã‚»ã‚°ãƒ¡ãƒ³ãƒˆç¢ºèª</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md198"></a>
ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</h1>
<ol type="1">
<li><b>ã¾ãšã¯åŸºç¤ã‹ã‚‰</b>: <a href="md_manual_tutorials_introduction_jp.html">SHMã®å°å…¥</a>ã§æ¦‚å¿µã‚’ç†è§£</li>
<li><b>å®Ÿè·µç·´ç¿’</b>: <a href="md_manual_tutorials_shm_pub_sub_jp.html">Pub/Subé€šä¿¡</a>ã§æ‰‹ã‚’å‹•ã‹ã™ <br  />
</li>
<li><b>å¿œç”¨ç™ºå±•</b>: <a href="md_manual_tutorials_shm_service_jp.html">Service</a>ã€<a href="md_manual_tutorials_shm_action_jp.html">Action</a>ã§é«˜åº¦ãªæ©Ÿèƒ½ã‚’ç¿’å¾—</li>
<li><b>è¨€èªçµ±åˆ</b>: <a href="md_manual_tutorials_python_jp.html">Pythoné€£æº</a>ã§é–‹ç™ºåŠ¹ç‡å‘ä¸Š</li>
</ol>
<hr  />
<p><b>ğŸ“ å­¦ç¿’ã®ã‚³ãƒ„</b>: å„ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿéš›ã«å‹•ã‹ã—ã¦ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç‰¹æ€§ã‚’ä½“æ„Ÿã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚ç†è«–ã¨å®Ÿè·µã‚’çµ„ã¿åˆã‚ã›ã¦ã€çœŸã®ç†è§£ã‚’æ·±ã‚ã¾ã—ã‚‡ã†ï¼ </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jul 6 2025 00:08:40 for SHM by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
