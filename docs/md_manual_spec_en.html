<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SHM: SHM Specification</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SHM
   </div>
   <div id="projectbrief">Shared-memorybasedHandy-communicationManager</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">SHM Specification </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md11">Purpose</a></li>
<li class="level1"><a href="#autotoc_md12">Abstruct</a><ul><li class="level2"><a href="#autotoc_md13">Contexts</a></li>
<li class="level2"><a href="#autotoc_md14">System Functions</a><ul><li class="level3"><a href="#autotoc_md15">Hiding memory management processes</a></li>
<li class="level3"><a href="#autotoc_md16">Pointerless Coding</a></li>
</ul>
</li>
<li class="level2"><a href="#autotoc_md17">User Characteristics</a><ul><li class="level3"><a href="#autotoc_md18">Developer</a></li>
<li class="level3"><a href="#autotoc_md19">Designer</a></li>
</ul>
</li>
<li class="level2"><a href="#autotoc_md20">Definitions and Terms</a><ul><li class="level3"><a href="#autotoc_md21">Local Memory</a></li>
<li class="level3"><a href="#autotoc_md22">Shared memory</a></li>
<li class="level3"><a href="#autotoc_md23">Standard layout type</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md24">References</a><ul><li class="level2"><a href="#autotoc_md25">man shm_overview</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>[English | <a href="docs_jp/md_manual_spec_jp.html">日本語</a>]</p>
<h1><a class="anchor" id="autotoc_md11"></a>
Purpose</h1>
<p>The purpose of SHM (Shared-memory based Handy-communication Manager) is to provide as secure and fast communication as possible between different processes. It should also be designed with consideration to make it easy for students to use. Please refer to README.md for installation instructions.</p>
<h1><a class="anchor" id="autotoc_md12"></a>
Abstruct</h1>
<h2><a class="anchor" id="autotoc_md13"></a>
Contexts</h2>
<p>The Instrumentation and Robotics Laboratory at Utsunomiya University uses shared memory, which can be used to exchange data between programs, in addition to local memory generally used by programs. Shared memory differs from local memory in that it does not require the developer to release allocated memory (if memory is inadvertently released, data cannot be passed to other programs), it has a slightly higher barrier for novice programmers because of the use of pointers, and it requires the designer to create processes for each memory each time a new library is created. The designer needs to create a process for each memory each time a new library is created. This framework hides data exchange using shared memory and provides easy-to-understand inter-process communication for novice programmers.</p>
<h2><a class="anchor" id="autotoc_md14"></a>
System Functions</h2>
<h3><a class="anchor" id="autotoc_md15"></a>
Hiding memory management processes</h3>
<p>The ability to easily communicate between processes is realized by hiding shared memory area allocation and buffer access in classes. However, by default, only standard layout type classes are supported. Other classes can be supported by defining specialized in each case. See the sample for details.</p>
<h3><a class="anchor" id="autotoc_md16"></a>
Pointerless Coding</h3>
<p>Basically, the system only passes variables allocated in local memory to the Publisher or receives topics from the Subscriber, eliminating the need to code with pointers to shared memory in mind as in the past.</p>
<h2><a class="anchor" id="autotoc_md17"></a>
User Characteristics</h2>
<h3><a class="anchor" id="autotoc_md18"></a>
Developer</h3>
<p>Developers are those who create new programs using libraries inside and outside the laboratory, such as this library. It is mainly intended for first-time programming students such as fourth-year undergraduates.</p>
<h3><a class="anchor" id="autotoc_md19"></a>
Designer</h3>
<p>Designers are those who create new libraries using this library and pass on their current know-how to junior members. This category is mainly intended for second-year master students.</p>
<h2><a class="anchor" id="autotoc_md20"></a>
Definitions and Terms</h2>
<h3><a class="anchor" id="autotoc_md21"></a>
Local Memory</h3>
<p>Local memory is a virtual storage area that can be accessed within a process. It is a storage area used during normal programming, and if it is not properly released after use, it may cause problems in the future (a program that has been working properly for a while may suddenly stop working).</p>
<h3><a class="anchor" id="autotoc_md22"></a>
Shared memory</h3>
<p>Shared memory is a storage area that can be used commonly among processes. Shared memory is a memory area allocated by special means and can be implemented in various ways. This time, POSIX file-mapped memory is used. This is a method in which data to be stored in shared memory is treated as a file, and the memory area allocated directly under /dev/shm can be confirmed in Linux.</p>
<h3><a class="anchor" id="autotoc_md23"></a>
Standard layout type</h3>
<p>If a class or structure does not contain specific C++ language features such as virtual functions not found in C, and all members have the same access control, it is a standard layout type. memcpy is possible and the layout is clearly defined for use in C programs. The standard layout type is a user-defined layout type. Standard layout types can have special user-defined member functions. In addition, standard layout types have the following characteristics</p><ul>
<li>No virtual functions or virtual base classes</li>
<li>All non-static data members have the same access control</li>
<li>All non-static members of the class type are standard layout</li>
<li>All base classes have standard layout</li>
<li>There is no base class of the same type as the first non-static data member</li>
<li>One of the following conditions is met<ul>
<li>The most derived class has no non-static data members and only one base class with non-static data members</li>
<li>There is no base class that contains a non-static data member</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md24"></a>
References</h1>
<h2><a class="anchor" id="autotoc_md25"></a>
man shm_overview</h2>
<p>The following is a URL that provides an overview of Posix shared memory. <a href="https://linuxjm.osdn.jp/html/LDP_man-pages/man7/shm_overview.7.html">https://linuxjm.osdn.jp/html/LDP_man-pages/man7/shm_overview.7.html</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Mar 12 2023 14:51:52 for SHM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
